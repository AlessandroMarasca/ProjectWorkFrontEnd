<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="https://kit.fontawesome.com/0cae5511b9.js" crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="../CSS/Assistenza.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Nunito:ital,wght@0,200..1000;1,200..1000&display=swap" rel="stylesheet">

  </head>
  <body>
    <div class="container">
        <section class="contact-info">
            <div>
                <h2>Contattaci ora</h2>
                <p>Per qualsiasi domanda, non esitare a contattarci via email, telefono o social.</p>
                <p>Email: support@gesteat.it</p>
                <p>Telefono: +39 123 456 7890</p>
                <div class="social-icons">
                    <a href="https://www.facebook.com" target="_blank"><i class="fab fa-facebook-f"></i></a>
                    <a href="https://www.instagram.com" target="_blank"><i class="fab fa-instagram"></i></a>
                    <a href="https://twitter.com" target="_blank"><i class="fa-brands fa-x-twitter"></i></a>
                    <a href="mailto:support@gesteat.it"><i class="fas fa-envelope"></i></a>
                </div>
            </div>
        </section>
        
        <section class="form-container">
            <h2>Modulo di Contatto</h2>
            <form action="#" method="POST">
                <label for="name">Nome</label>
                <input type="text" id="name" name="name" required>

                <label for="email">Email</label>
                <input type="email" id="email" name="email" required>

                <label for="message">Messaggio</label>
                <textarea id="message" name="message" rows="4" required></textarea>
                <div class="privacy-policy">
                  <input type="checkbox" id="privacy" name="privacy" required>
                  <label for="privacy">Accetto la <a href="privacy-policy.html" target="_blank">Privacy Policy</a></label>
              </div>
                <button type="submit">Invia</button>
            </form>
        </section>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                const form = document.querySelector("form"); // Seleziona il modulo di contatto
                const emailInput = document.getElementById("email");
                const nameInput = document.getElementById("name");
                const messageInput = document.getElementById("message");
        
                // Creazione dinamica degli errori se non esistono
                function createErrorElement(id) {
                    let errorElement = document.getElementById(id);
                    if (!errorElement) {
                        errorElement = document.createElement("p");
                        errorElement.id = id;
                        errorElement.style.color = "red";
                        errorElement.style.fontSize = "14px";
                        errorElement.style.marginTop = "5px";
                    }
                    return errorElement;
                }
        
                const emailError = createErrorElement("email-error");
                emailInput.insertAdjacentElement("afterend", emailError);
        
                const nameError = createErrorElement("name-error");
                nameInput.insertAdjacentElement("afterend", nameError);
        
                const messageError = createErrorElement("message-error");
                messageInput.insertAdjacentElement("afterend", messageError);
        
                function emailValida(email) {
                    return email.includes("@") && email.includes(".");
                }
        
                function campoValido(input) {
                    return input.value.trim() !== "";
                }
        
                // Validazione in tempo reale
                emailInput.addEventListener("input", function () {
                    emailError.textContent = emailValida(emailInput.value) ? "" : "Inserisci un'email valida.";
                });
        
                nameInput.addEventListener("input", function () {
                    nameError.textContent = campoValido(nameInput) ? "" : "Il nome è obbligatorio.";
                });
        
                messageInput.addEventListener("input", function () {
                    messageError.textContent = campoValido(messageInput) ? "" : "Il messaggio non può essere vuoto.";
                });
        
                // Controllo finale prima dell'invio del form
                form.addEventListener("submit", function (event) {
                    let isValid = true;
        
                    if (!campoValido(nameInput)) {
                        nameError.textContent = "Il nome è obbligatorio.";
                        isValid = false;
                    }
        
                    if (!emailValida(emailInput.value)) {
                        emailError.textContent = "Inserisci un'email valida.";
                        isValid = false;
                    }
        
                    if (!campoValido(messageInput)) {
                        messageError.textContent = "Il messaggio non può essere vuoto.";
                        isValid = false;
                    }
        
                    if (!isValid) {
                        event.preventDefault(); // Impedisce l'invio del form se ci sono errori
                    }
                });
            });

            </script> 
            <script src="https://kit.fontawesome.com/0cae5511b9.js" crossorigin="anonymous"></script>

            </body>
            </html>